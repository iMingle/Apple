<!doctype html>
<html lang="zh">
<head>
	<meta charset="UTF-8" />
	<title>PieChart</title>
	<script type="text/javascript" src="../scripts/chart/3dcharts.js"></script>
	<script type="text/javascript" src="../scripts/chart/3dplugin/serial.js"></script>
	<script type="text/javascript" src="../scripts/jquery/jquery-1.11.1.js"></script>
	<script type="text/javascript" src="D3Chart.js"></script>
</head>
<body>
	<div id="chartdiv" style="height: 400px;width:600px;">
	</div>
	<button id="change">改变</button>
	<script type="text/javascript">
		$(document).ready(function() {
			var dataProvider = [{
                    "year": 2005,
                        "income": 23.5,
                        "expenses": 18.1
                }, {
                    "year": 2006,
                        "income": 26.2,
                        "expenses": 22.8
                }, {
                    "year": 2007,
                        "income": 30.1,
                        "expenses": 23.9
                }, {
                    "year": 2008,
                        "income": 29.5,
                        "expenses": 25.1
                }, {
                    "year": 2009,
                        "income": 24.6,
                        "expenses": 25
                }];
			var cc = new D3SerialChart("#chartdiv", {
				theme : "defaults",
				use3D : "false",
				categoryField: "year",
                categoryTitle : "嘉年华",
                valueAxesTitle : "价格",
				dataProvider: dataProvider,
                graphs: [{
                    type: "column",
                    title: "收入",
                    valueField: "income"
                }, {
                    type: "line",
                    title: "花费",
                    valueField: "expenses"
                }]
			});
			cc.render();
			cc.chart.addListener("clickGraphItem", function(event) {
            	//event.item.dataContext.income = 30;
            	//chart.validateData();
            	console.debug(event.item.dataContext);
            });
		});
	</script>
</body>
</html>